<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5. 함수 - 좀 더 알아보기</title>
    <script>
    // 변수 이름 충돌 문제 해결 : 각각 다른 블록에 속하게 스코프 단계 변경하기
    // 섀도잉 : 블록이 다른 경우, 내부 변수가 외부 변수를 가려버려서 해당 블록 안에서는 외부 변수와 충돌하지 않음
        // 외부에서 가져온 JS 코드
        let pi = 3.14
        console.log(`파이 값은 ${pi}입니다.`)

        // 블록을 사용 > 스코프 생성
        {
            let pi = 3.141592
            console.log(`파이 값은 ${pi}입니다.`)
        }
        console.log(`파이 값은 ${pi}입니다.`)

        // 함수 블록 > 스코프 생성
        function sample() {
            let pi = 3.141592
            console.log(`파이 값은 ${pi}입니다.`)
        }
        sample()
        console.log(`파이 값은 ${pi}입니다.`)

        console.log('')
    </script>

    <script>
    // 변수 이름 충돌 문제 해결 - 즉시 호출 함수 사용(var 키워드 경우)
    // 외부에서 가져온 JS 코드
        let pi_1 = 3.14
        console.log(`파이 값은 ${pi_1}입니다.`)
    </script>
    <script>
    // 내가 작성한 JS 코드
    // 즉시 호출 함수
        (function () {
            let pi_1 = 3.141592
            console.log(`파이 값은 ${pi_1}입니다.`)
        })()

        console.log('')
    </script>

    <script>
    // 엄격 모드 : 'use strict' 라는 문자열을 읽으면서부터 해당 블록의 코드를 엄격하게 검사 e.g. 변수를 let 선언하지 않고 사용
        (function () { // 방식 : 즉시 호출 함수 > 블록 맨 위에 엄격 모드 적용
            'use strict'
        let data = 10
        console.log(data) // if let 키워드 사용X, Uncaught ReferenceError: data is not defined
        })()    
        
    </script>

    <script>
    // 익명 함수 & 선언적 함수 - 사용하는 상황은 비슷. 실행 흐름을 예측하기 쉽고 안전을 위해 익명 함수로 통일해 사용하는 걸 선호
        func = function () { // 코드 실행 후 해당 라인을 읽을 때(코드를 읽는 순서대로) 생성
            console.log('익명 함수다')
        }

        function func () { // 코드 실행 전 생성
            console.log('선언적 함수다')
        }
        func() // 익명 함수다 : (이유) 선언적 생성 > 코드 running > 익명 함수 생성
    </script>

    <script>
    // let을 쓰는 이유 : var 키워드는 덮어쓰기 문제가 발생. let, const를 사용해 이를 차단
        let 함수 = function () {
            console.log('익명 함수')
        }
        function 함수() {
            console.log('선언적 함수')
        }

        함수() // Uncaught SyntaxError: Identifier '함수' has already been declared
    </script>
    
</head>
<body>
    
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>함수를 함수의 매개변수로 전달하기</title>
    <script>
    // 콜백 함수 : 매개변수를 통해 함수를 받고(함수도 자료형이기 때문), 그 함수를 통해 결과값을 냄

        function call3Times(callback) { // 매개변수=함수(print()), 해당 함수를 3번 호출
            for (let i = 0; i < 3; i++) {
                callback(i) //print(0), print(1), print(2)
            }
            console.log('')
        }

        function print(i) {
            console.log(`${i}번째 함수 호출`)
        }

        call3Times(print)
    </script>

    <script>
    // 콜백 함수 + 익명 함수
        function call3Times(callback) { 
            for (let i = 0; i < 3; i++) {
                callback(i)
            }
        }
        
        call3Times(function (i) { // 익명 함수
            console.log(`${i}번째 함수 호출`)
            
        })
        console.log('')
    </script>

    <script>
    // 콜백 함수 - ForEach() : 배열의 메소드. 배열 내부의 요소를 사용해 콜백 함수 호출
        const numbers = [13, 10, 516, 413]

        numbers.forEach(function (value, index, array) {
            console.log(`${index}번째 요소 : ${value}`)
        })
        console.log('')
    </script>
    
    <script>
    // 콜백 함수 - map() : 배열의 메소드. 콜백 함수의 리턴값을 기반으로 새로운 배열 리턴
        let nums = [13, 10, 516, 413]
        nums = nums.map(function (value) {
            return value * value
        })

        nums.forEach(console.log)
        console.log('')
    </script>

    <script>
    // 콜백 함수 - filter() : 배열의 메소드. 콜백 함수의 리턴값 중 true만 모아 새로운 배열 리턴
        const f_nums = [0,1,2,3,4,5]
        const evenNums = f_nums.filter(function (value) {
            return value % 2 === 0
        })

        console.log(`배열 입력 : ${f_nums}`)
        console.log(`짝수만 추출 : ${evenNums}`)
        console.log('')
    </script>

    <script>
    // 화살표 함수 & 메소드 체이닝
        // function (매개변수) {} === 화살표 함수 : (매개변수) => {}
        // 메소드 체이닝 : 어떠 메소드의 리턴갑을 기반으로 해서 함수들을 줄줄이 사용하는 것
        let point_nums = [0,1,2,3,4,5,6,7,8,9]
        
        point_nums
            .filter((value) => value % 2 === 0 )
            .map((value) => value * value)
            .forEach((value) => {
                console.log(value)
            })
        
        console.log('')
    </script>

    <script>
    // 타이머 함수 - setInterval, setTimeout, clearInterval, clearTimeout
        let id // 타이머함수(setInterval, setTimeout) 호출 시, 리턴값
        let count = 0
        id = setInterval(() => { // 특정 시간마다 함수 호출
            console.log(`1초마다 실행(${count+1}번째)`)
            count++
        }, 1*1000)// 1s = 1000

        setTimeout(() => { // 특정 시간 후 함수 호출
            console.log('- time out -')
            clearInterval(id) // setInterval()로 설정한 타이머 제거
        }, 5 * 1000)
    </script>
</head>
<body>
    
</body>
</html>